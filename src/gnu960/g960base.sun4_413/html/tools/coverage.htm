<HTML>

<HEAD>

<TITLE>Coverage Analyzer (gcov960)</TITLE>

<META NAME="GENERATOR" CONTENT="Internet Assistant for Microsoft Word 2.0z Beta">
</HEAD>

<BODY>

<H1>
<CENTER>
gcov960 <A NAME="top">Coverage </A>Analyzer 
</CENTER>
</H1>

<HR>

<P>
gcov960 produces basic-block coverage analysis of a program. When
a program is compiled with the <TT><B><FONT SIZE=4 FACE="Courier New">fdb</FONT></B></TT>
compiler driver option, a corresponding database directory is
created. Whenever the program is executed, test coverage information
is recorded in a profile file called <TT><B><FONT SIZE=4 FACE="Courier New">default.pf</FONT></B></TT>.
Subsequent runs will overwrite this file; use gmpf960 to merge
profiles.
<P>
gcov960 takes optional source files and module names as arguments.
It reads the source file and produces an annotated listing of
the source file with the coverage data in <TT><I><FONT SIZE=4 FACE="Courier New">file</FONT></I><B><FONT SIZE=4 FACE="Courier New">.cov</FONT></B></TT>
(if the <TT><B><FONT SIZE=4 FACE="Courier New">rl</FONT></B></TT>
option is used). Each statement within a basic block is prefixed
with the number of times it has been executed. Lines that have
not been executed are prefixed with <TT><B><FONT SIZE=4 FACE="Courier New">########</FONT></B></TT>.
<P>
The gcov960 coverage invocation command is:
<P>
<TT><B><FONT SIZE=4 FACE="Courier New">gcov960 </FONT></B><FONT SIZE=4 FACE="Courier New">[
<B>-</B><I>control</I><B> </B>]... [ <I>file</I> [<B>=</B><I>module</I><B>,</B>...]...]
[ <B>-</B><I>option</I><B> </B>]...</FONT></TT> 
<P>
gcov960 <A HREF="#controls">controls</A> and <A HREF="#options">options</A>
are described below. Each option must be preceded by a <TT><B><FONT SIZE=4 FACE="Courier New">-</FONT></B></TT>
character. (On DOS, you can also use a <TT><B><FONT SIZE=4 FACE="Courier New">/</FONT></B></TT>
character.)
<P>
<TT><I><FONT SIZE=4 FACE="Courier New">file</FONT></I></TT> identifies
a source file, from the profiled program represented in the program
database. Specifying <TT><I><FONT SIZE=4 FACE="Courier New">file</FONT></I><B><FONT SIZE=4 FACE="Courier New">=</FONT></B><I><FONT SIZE=4 FACE="Courier New">module</FONT></I><B><FONT SIZE=4 FACE="Courier New">,</FONT></B><FONT SIZE=4 FACE="Courier New">...</FONT></TT>
restricts the operation of gcov960 to the file or module(s).
<HR>

<H2><A NAME="controls">Controls</A> </H2>

<HR>

<UL>
<LI><TT><B><FONT SIZE=4 FACE="Courier New">c</FONT></B><FONT SIZE=4 FACE="Courier New">
{ <B>p</B> | <B>m</B> | <B>f</B> | <B>s</B> }</FONT></TT>
<UL>
<LI><TT><B><FONT SIZE=4 FACE="Courier New">cp</FONT></B></TT>
Produces a program-level coverage report. 
<LI><TT><B><FONT SIZE=4 FACE="Courier New">cm</FONT></B></TT>
Produces module- and program-level coverage report. 
<LI><TT><B><FONT SIZE=4 FACE="Courier New">cf</FONT></B></TT>
Produces function-, module-, and program-level coverage report.

<LI><TT><B><FONT SIZE=4 FACE="Courier New">cs</FONT></B></TT>
Produces a source- and module-level coverage report. 
</UL>

<LI><TT><B><FONT SIZE=4 FACE="Courier New">f</FONT></B><FONT SIZE=4 FACE="Courier New">
<I>n</I> <BR>
</FONT></TT>Produces the <TT><I><FONT SIZE=4 FACE="Courier New">n</FONT></I></TT>
most and least frequently executed lines. If the <TT><I><FONT SIZE=4 FACE="Courier New">n</FONT></I></TT>
specified is negative, it reports the least frequently executed
lines. When used with <TT><B><FONT SIZE=4 FACE="Courier New">rl</FONT></B></TT>,
the report is attached to the source-annotated listing.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">g </FONT></B><FONT SIZE=4 FACE="Courier New">[<B>h</B>]<B>
<BR>
</B></FONT></TT>Produces a call-graph listing of the profiled
program. <TT><B><FONT SIZE=4 FACE="Courier New">h</FONT></B></TT>
is optional; it attaches an explanation of how to interpret the
call-graph listing to the report.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">n </FONT></B><I><FONT SIZE=4 FACE="Courier New">new-profile</FONT></I><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Compares two profile files. The files <TT><B><FONT SIZE=4 FACE="Courier New">default.pf</FONT></B></TT>
or the file specified in <TT><B><FONT SIZE=4 FACE="Courier New">p</FONT></B></TT>
or <TT><B><FONT SIZE=4 FACE="Courier New">iprof</FONT></B></TT>
options are compared against the <TT><I><FONT SIZE=4 FACE="Courier New">new-profile</FONT></I></TT>
file and a just-hit or just-missed lines are reported. The <TT><B><FONT SIZE=4 FACE="Courier New">r</FONT></B></TT>
control is required with <TT><B><FONT SIZE=4 FACE="Courier New">n</FONT></B></TT>.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">r </FONT></B><FONT SIZE=4 FACE="Courier New">{
<B>l</B> | <B>h</B> | <B>m</B> } </FONT></TT>
<UL>
<LI><TT><B><FONT SIZE=4 FACE="Courier New">rl </FONT></B></TT>Produces
a source-annotated listing.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">rh </FONT></B></TT>Produces
the line numbers within basic blocks that were hit.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">rm </FONT></B></TT>Produces
the line numbers within basic blocks that were missed. 
</UL>

</UL>

<HR>

<H2><A NAME="options">Options</A> </H2>

<HR>

<UL>
<LI><TT><B><FONT SIZE=4 FACE="Courier New">C</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Calculates the total number of execution counts in
a profile file.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">help</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Prints a help message.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">I </FONT></B><I><FONT SIZE=4 FACE="Courier New">search-dir</FONT></I><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Adds the directory to the list of paths gcov960 searches
for source files.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">p</FONT></B><FONT SIZE=4 FACE="Courier New">
| <B>iprof </B><I>file</I><B> <BR>
</B></FONT></TT>Specifies the profile information file. If this
option is not specified, <TT><B><FONT SIZE=4 FACE="Courier New">default.pf</FONT></B></TT>
is used.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">Q</FONT></B><FONT SIZE=4 FACE="Courier New">[<I>n</I>]
<BR>
</FONT></TT>As <TT><I><FONT SIZE=4 FACE="Courier New">n</FONT></I></TT>
goes from 0 to 9, <TT><B><FONT SIZE=4 FACE="Courier New">Q</FONT></B><I><FONT SIZE=4 FACE="Courier New">n</FONT></I></TT>
means to ignore hits except from functions are of increasing accuracy
(decreasing amounts of interpolation). The default is <TT><B><FONT SIZE=4 FACE="Courier New">Q9</FONT></B></TT>,
which means to ignore hits for all functions except those with
perfect profiles. <TT><B><FONT SIZE=4 FACE="Courier New">Q0</FONT></B></TT>
means to not ignore hits from any functions, even those with completely
guessed profiles. <BR>
A profile's quality gradually drops as changes are made to the
code it was collected from and interpolation is done to make it
useable by gcc960, ic960, and gcdm960.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">q</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Suppresses display of version, copyright notices,
profile file and database used.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">t</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Truncates displayed names to keep them within column
widths.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">V</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Prints the version number and continues.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">v960</FONT></B><FONT SIZE=4 FACE="Courier New">
<BR>
</FONT></TT>Prints the version number and exits.
<LI><TT><B><FONT SIZE=4 FACE="Courier New">Z </FONT></B><I><FONT SIZE=4 FACE="Courier New">pdb_dir
<BR>
</FONT></I></TT>Specifies the program database directory. 
</UL>

<HR>

<P>
<A HREF="#top"><IMG SRC="../icons/uparw.gif" ALIGN="BOTTOM"></A><I>Return
to the top of this page.</I> 
<P>
<A HREF="ctoolshm.htm"><IMG SRC="../icons/index2.gif" ALIGN="BOTTOM"></A><I>Go
to the ic960 Interface Index.</I> 
<P>
<A HREF="gnuhome.htm"><IMG SRC="../icons/index2.gif" ALIGN="BOTTOM"></A><I>Go
to the gcc960 Interface Index.</I> 
</BODY>

</HTML>

